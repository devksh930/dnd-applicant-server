spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL}?rewriteBatchedStatements=true&useServerPrepStmts=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    hikari:
      pool-name: DND-HikariPool
      maximum-pool-size: ${HIKARI_MAXIMUM_POOL_SIZE:3}
      minimum-idle: ${HIKARI_MINIMUM_IDLE:1}
      idle-timeout: 300000
      max-lifetime: 1800000
      connection-timeout: 30000
      validation-timeout: 5000
      auto-commit: true
      leak-detection-threshold: 60000

  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: ${JPA_DDL_AUTO:validate}
      jdbc.batch_size: 1000
      order_inserts: true

  main:
    banner-mode: off

server:
  port: ${SERVER_PORT:8080}

encryption:
  aes:
    password: ${ENCRYPTION_TEXT_PASSWORD}
    salt: ${ENCRYPTION_TEXT_SALT}
  hmac:
    key: ${HMAC_TEXT}

github:
  token: ${GITHUB_TOKEN}
  repository:
    owner: ${GITHUB_REPOSITORY_OWNER}
    name: ${GITHUB_REPOSITORY_NAME}

cors:
  allowedOriginsPatterns:
    - "https://*.google.com"
    - "https://google.com"
    - "http://localhost:3000"
    - "https://*.dnd.ac"
  allowedMethods:
    - HEAD
    - OPTIONS
    - GET
    - POST
    - PATCH
    - PUT
    - DELETE
  allowedHeaders:
    - "*"
  exposedHeaders: []
  allowCredentials: true
  maxAge: 3600

logging:
  level:
    root: ${LOG_LEVEL_ROOT:INFO}
    ac.dnd.server: ${LOG_LEVEL_APP:INFO}

jwt:
  secret: ${JWT_SECRET}
  cookie:
    secure: ${JWT_COOKIE_SECURE:true}
    same-site: ${JWT_COOKIE_SAME_SITE:Lax}
    domain: ${JWT_COOKIE_DOMAIN:}

cloud:
  aws:
    s3:
      bucket: ${AWS_S3_BUCKET}
    region: ${AWS_REGION:ap-northeast-2}
    credentials:
      access-key: ${AWS_ACCESS_KEY}
      secret-key: ${AWS_SECRET_KEY}

springdoc:
  api-docs:
    enabled: false
  swagger-ui:
    enabled: false
    url: /swagger/openapi3.json
    path: /swagger-ui.html
